<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RW06NET | Speedtest Official</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        body { background-color: #020617; color: #ffffff; font-family: 'Inter', sans-serif; }
        .jopa-card { background: #0f172a; border: 2px solid #1e293b; border-radius: 24px; }
        .result-modal { display: none; position: fixed; inset: 0; background: rgba(2,6,23,0.98); align-items: center; justify-content: center; z-index: 50; }
        /* Warna Dinamis */
        .text-low { color: #ef4444 !important; } /* Merah */
        .text-high { color: #22c55e !important; } /* Hijau */
        .blue-accent { color: #3b82f6; }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-6">

    <div class="text-center mb-8">
        <div class="flex justify-center mb-4">
            <div class="w-20 h-20 bg-blue-600 rounded-2xl flex items-center justify-center shadow-lg shadow-blue-500/20">
                <svg class="w-12 h-12 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                </svg>
            </div>
        </div>
        <h1 class="text-5xl font-black italic tracking-tighter blue-accent">RW06NET <span class="text-white">OFFICIAL</span></h1>
        <p class="text-slate-400 text-[10px] uppercase tracking-widest font-bold mt-2">JOPACOM Network Certified</p>
    </div>

    <main class="jopa-card p-10 w-full max-w-lg relative overflow-hidden shadow-2xl shadow-blue-500/10">
        <div class="absolute top-0 left-0 w-full h-1 bg-slate-800">
            <div id="top-progress" class="h-full bg-blue-500 w-0 transition-all duration-75"></div>
        </div>

        <div class="grid grid-cols-3 gap-4 mb-10 text-center">
            <section>
                <h2 class="text-slate-500 text-[10px] uppercase font-bold">Ping</h2>
                <p id="ping" class="text-2xl font-mono font-bold">--</p>
            </section>
            <section>
                <h2 class="text-blue-400 text-[10px] uppercase font-bold">Download</h2>
                <p id="download" class="text-3xl font-mono font-bold">0.0</p>
            </section>
            <section>
                <h2 class="text-blue-400 text-[10px] uppercase font-bold">Upload</h2>
                <p id="upload" class="text-2xl font-mono font-bold">0.0</p>
            </section>
        </div>

        <button id="startBtn" onclick="runTest()" class="w-full bg-blue-600 text-white font-black py-5 rounded-xl hover:bg-blue-500 transition-all transform active:scale-95 uppercase tracking-widest">
            Mulai Tes Kecepatan
        </button>
    </main>

    <div id="resultModal" class="result-modal">
        <div class="bg-slate-900 border-2 border-blue-500/50 p-8 rounded-[32px] w-full max-w-sm text-center shadow-2xl">
            <h2 class="text-blue-500 font-black italic text-3xl mb-1">RW06NET</h2>
            <p class="text-slate-500 text-[10px] uppercase mb-6 font-bold tracking-widest">Official Speed Report</p>
            
            <div class="space-y-4 mb-8">
                <div class="bg-slate-800/50 p-6 rounded-2xl border border-white/5">
                    <p class="text-slate-400 text-xs uppercase mb-1 font-bold">Download</p>
                    <p id="res-dl" class="text-5xl font-black">0.0</p>
                    <p class="text-xs text-slate-500">Mbps</p>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-slate-800/50 p-3 rounded-2xl border border-white/5">
                        <p class="text-slate-500 text-[10px] uppercase font-bold">Upload</p>
                        <p id="res-ul" class="font-bold text-lg">0.0</p>
                    </div>
                    <div class="bg-slate-800/50 p-3 rounded-2xl border border-white/5">
                        <p class="text-slate-500 text-[10px] uppercase font-bold">Ping</p>
                        <p id="res-ping" class="font-bold text-white text-lg">0</p>
                    </div>
                </div>
            </div>

            <button onclick="shareToWA()" class="bg-[#25d366] text-white w-full py-4 rounded-xl font-bold mb-4 shadow-lg shadow-green-500/20">Kirim ke WhatsApp</button>
            <button onclick="closeModal()" class="text-slate-500 text-[10px] uppercase font-bold hover:text-white">Tutup</button>
        </div>
    </div>

    <script>
        let finalDL = 0, finalUL = 0, finalPing = 0;

        function applyColor(elementId, value) {
            const el = document.getElementById(elementId);
            if (parseFloat(value) < 1.0) {
                el.classList.add('text-low');
                el.classList.remove('text-high');
            } else {
                el.classList.add('text-high');
                el.classList.remove('text-low');
            }
        }

        function runTest() {
            const btn = document.getElementById('startBtn');
            const progress = document.getElementById('top-progress');
            btn.disabled = true; btn.innerHTML = "MENGECEK...";
            
            let step = 0;
            const interval = setInterval(() => {
                step += 2;
                progress.style.width = step + "%";
                
                // Animasi angka acak
                let liveDL = (Math.random() * 5).toFixed(1);
                document.getElementById('download').innerText = liveDL;
                
                if (step >= 100) {
                    clearInterval(interval);
                    // Logika Penentuan Nilai (Bisa diatur di sini)
                    finalDL = (Math.random() * 3).toFixed(1); // Contoh hasil
                    finalUL = (Math.random() * 1.5).toFixed(1);
                    finalPing = Math.floor(Math.random() * 20 + 5);
                    
                    showResult();
                }
            }, 50);
        }

        function showResult() {
            // Terapkan nilai ke modal
            document.getElementById('res-dl').innerText = finalDL;
            document.getElementById('res-ul').innerText = finalUL + ' Mbps';
            document.getElementById('res-ping').innerText = finalPing + ' ms';
            
            // Aturan Warna: Merah jika < 1, Hijau jika >= 1
            applyColor('res-dl', finalDL);
            applyColor('res-ul', finalUL);
            
            document.getElementById('resultModal').style.display = 'flex';
        }

        function shareToWA() {
            const msg = `*HASIL SPEEDTEST RW06NET*%0A-----------------------%0AðŸš€ Download: ${finalDL} Mbps%0AðŸ“¤ Upload: ${finalUL} Mbps%0Aâš¡ Ping: ${finalPing} ms%0A-----------------------%0A_Jaringan JOPACOM Certified_`;
            window.open(`https://wa.me/6287739668456?text=${msg}`, '_blank');
        }

        function closeModal() {
            document.getElementById('resultModal').style.display = 'none';
            document.getElementById('startBtn').disabled = false;
            document.getElementById('startBtn').innerHTML = "Mulai Tes Kecepatan";
            document.getElementById('top-progress').style.width = "0%";
        }
    </script>
</body>
</html>
